Set-Content -Path ".git/hooks/pre-commit" -Value @"
#!/bin/sh
echo 'ğŸ” Tikrinamas kodas prieÅ¡ commit...'

# âœ… 1ï¸âƒ£ Tikriname sintaksÄ—s klaidas tik jei yra `.py` failÅ³
PYTHON_FILES=\$(find modules -name "*.py" 2>/dev/null | wc -l)

if [ "\$PYTHON_FILES" -gt 0 ]; then
    python -m py_compile modules/*.py
    EXIT_CODE=\$?
    if [ "\$EXIT_CODE" -ne 0 ]; then
        echo 'âŒ Klaida: Kodas turi sintaksÄ—s klaidÅ³! Commit sustabdytas.'
        exit 1
    fi
    echo 'âœ… Kodas sintaksiÅ¡kai teisingas.'
else
    echo 'âš ï¸ Ä®spÄ—jimas: `modules/` kataloge nÄ—ra `.py` failÅ³, sintaksÄ—s tikrinimas praleistas.'
fi

# âœ… 2ï¸âƒ£ Vykdome automatinÄ¯ testavimÄ…
echo 'ğŸš€ Vykdomas unittest testavimas...'
PYTHONIOENCODING=utf-8 python -m unittest discover -s tests
TEST_EXIT_CODE=\$?

if [ "\$TEST_EXIT_CODE" -ne 0 ]; then
    echo 'âŒ Klaida: Testai nepraÄ—jo! Commit sustabdytas.'
    exit 1
fi
echo 'âœ… Visi testai sÄ—kmingai Ä¯vykdyti!'

exit 0
"@
